from itertools import *

table = '15 16 23 27 28 32 36 46 48 51 57 61 63 64 72 75 78 82 84 87'
graph = 'ab ac ag ba bc be ca cb cf de df dh eb ed fc fd ga gh hd hg'

for per in permutations('abcdefgh'):
    new_graph = table
    for i in range(1, 9):
        new_graph = new_graph.replace(str(i), per[i-1])
    if set(graph.split()) == set(new_graph.split()):
        print(*per)
